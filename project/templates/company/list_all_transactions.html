{% extends "base_company.html" %}

{% block content2 %}


<h1 class="title">
    <a href="{{ url_for('main_company.my_accounts') }}">Accounts</a> > Transactions
</h1>
<div class="box has-background-info-light has-text-info-dark">
    <div class="icon"><i class="fas fa-info-circle"></i></div>
    <p>Here are all transactions you have made or received so far.</p>
</div>

{% with messages = get_flashed_messages() %}
{% if messages %}
{% for message in messages %}
<div class="notification is-danger is-light">{{ message }}</div>
{% endfor %}
{% endif %}
{% endwith %}


<div class="table-container">
    <table class="table is-fullwidth">
        <thead>
            <tr>
                <th></th>
                <th>Sender</th>
                <th>Empf√§nger</th>
                <th>p</th>
                <th>r</th>
                <th>a</th>
                <th><abbr title="xxxx xxx x">prd</abbr></th>
                <th>Verw.zweck</th>
            </tr>
        </thead>
        <tbody>

            {% if all_transactions is defined and all_transactions|length %}
            {% for trans_info in all_transactions %}
            <tr>
                <td>{{ trans_info.date|format_datetime(zone='Europe/Berlin', fmt='%d.%m.%Y %H:%M') }}</td>
                <td>{{ trans_info.sender_name }}</td>
                <td>{{ trans_info.receiver_name }}</td>
                <td>{{ trans_info.transaction_volumes["p"] }}</td>
                <td>{{ trans_info.transaction_volumes["r"] }}</td>
                <td>{{ trans_info.transaction_volumes["a"] }}</td>
                <td>{{ trans_info.transaction_volumes["prd"] }}</td>
                <td>{{ trans_info.purpose }}</td>
            </tr>
            {% endfor %}
            {% endif %}

        </tbody>
    </table>
</div>

{% endblock %}